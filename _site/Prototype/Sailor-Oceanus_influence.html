<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Group 13">

<title>Sailor and Oceanus Influence â€“ ðŸŽ¶Folk Flow</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ðŸŽ¶Folk Flow</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../Introduction.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-shiny-app" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Shiny App</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-shiny-app">    
        <li>
    <a class="dropdown-item" href="../user_guide.pdf">
 <span class="dropdown-text">User Guide</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://vaa-project-group13.shinyapps.io/Project_Shiny/">
 <span class="dropdown-text">ShinyApp</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../Poster VAA.pdf"> 
<span class="menu-text">Project Poster</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../team_intro.html"> 
<span class="menu-text">Team</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-dicovery" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Dicovery</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-dicovery">    
        <li>
    <a class="dropdown-item" href="../Prototype/Project Proposal_Group 13.html">
 <span class="dropdown-text">Proposal</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Prototype/Data Preprocessing.html">
 <span class="dropdown-text">Data Preprocessing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Prototype/Sailor-Oceanus_influence.html">
 <span class="dropdown-text">Sailor Shift and Oceanus Influence</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Prototype/Artists-Future.html">
 <span class="dropdown-text">Artists Profile and Future Predictions</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-meeting-minutes" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Meeting Minutes</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-meeting-minutes">    
        <li>
    <a class="dropdown-item" href="../Meeting_Minutes/Meeting_Minutes_1.html">
 <span class="dropdown-text">Meeting Minute 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Meeting_Minutes/Meeting_Minutes_2.html">
 <span class="dropdown-text">Meeting Minute 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Meeting_Minutes/Meeting_Minutes_3.html">
 <span class="dropdown-text">Meeting Minute 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-task" id="toc-the-task" class="nav-link active" data-scroll-target="#the-task">1. The Task</a></li>
  <li><a href="#project-overview" id="toc-project-overview" class="nav-link" data-scroll-target="#project-overview">2. Project Overview</a></li>
  <li><a href="#loading-data-and-packages" id="toc-loading-data-and-packages" class="nav-link" data-scroll-target="#loading-data-and-packages">3. Loading Data and Packages</a>
  <ul class="collapse">
  <li><a href="#loading-r-packages" id="toc-loading-r-packages" class="nav-link" data-scroll-target="#loading-r-packages">3.1 Loading R Packages</a></li>
  <li><a href="#loading-preprocessed-data-from-rds-files" id="toc-loading-preprocessed-data-from-rds-files" class="nav-link" data-scroll-target="#loading-preprocessed-data-from-rds-files">3.2 Loading Preprocessed Data from RDS Files</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">4. Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#count-of-edge-types" id="toc-count-of-edge-types" class="nav-link" data-scroll-target="#count-of-edge-types">4.1 Count of Edge Types</a></li>
  <li><a href="#count-of-node-types" id="toc-count-of-node-types" class="nav-link" data-scroll-target="#count-of-node-types">4.2 Count of Node Types</a></li>
  <li><a href="#genre-distribution-of-songs" id="toc-genre-distribution-of-songs" class="nav-link" data-scroll-target="#genre-distribution-of-songs">4.3 Genre Distribution of Songs</a></li>
  <li><a href="#temporal-distribution-of-oceanus-folk-songs" id="toc-temporal-distribution-of-oceanus-folk-songs" class="nav-link" data-scroll-target="#temporal-distribution-of-oceanus-folk-songs">4.4 Temporal Distribution of Oceanus Folk Songs</a></li>
  </ul></li>
  <li><a href="#influence-analysis" id="toc-influence-analysis" class="nav-link" data-scroll-target="#influence-analysis">5. Influence Analysis</a>
  <ul class="collapse">
  <li><a href="#temporal-spread-of-influence-from-oceanus-folk" id="toc-temporal-spread-of-influence-from-oceanus-folk" class="nav-link" data-scroll-target="#temporal-spread-of-influence-from-oceanus-folk">5.1 Temporal Spread of Influence from Oceanus Folk</a></li>
  <li><a href="#heatmap-of-oceanus-folk-influence-by-genre-and-year" id="toc-heatmap-of-oceanus-folk-influence-by-genre-and-year" class="nav-link" data-scroll-target="#heatmap-of-oceanus-folk-influence-by-genre-and-year">5.2 Heatmap of Oceanus Folk Influence by Genre and Year</a></li>
  </ul></li>
  <li><a href="#network-visualizations" id="toc-network-visualizations" class="nav-link" data-scroll-target="#network-visualizations">6. Network Visualizations</a>
  <ul class="collapse">
  <li><a href="#network-analysis-for-genres-influenced-by-oceanus-folk" id="toc-network-analysis-for-genres-influenced-by-oceanus-folk" class="nav-link" data-scroll-target="#network-analysis-for-genres-influenced-by-oceanus-folk">6.1 Network Analysis for Genres Influenced by Oceanus Folk</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Sailor and Oceanus Influence</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Group 13 </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="the-task" class="level1">
<h1>1. The Task</h1>
<p>In this take-home exercise, we are required to select one of the module of our proposed Shiny application and complete the following tasks:</p>
<ul>
<li>To evaluate and determine the necessary R packages needed for your Shiny application are supported in R CRAN,</li>
<li>To prepare and test the specific R codes can be run and returned the correct output as expected,</li>
<li>To determine the parameters and outputs that will be exposed on the Shiny applications, and</li>
<li>To select the appropriate Shiny UI components for exposing the parameters determine above.</li>
</ul>
</section>
<section id="project-overview" class="level1">
<h1>2. Project Overview</h1>
<p>This project seeks to design and develop insightful visualizations and analytic tools that allow users (like Silas) to explore the musical influence network centered on Sailor Shift. Specifically, we aim to:</p>
<ul>
<li><p>Map Musical Influence: Visualize how Sailor Shift has been influenced by others and, in turn, how she has directly or indirectly influenced artists and genres.</p></li>
<li><p>Analyze Collaborations: Identify key collaborators throughout Sailorâ€™s career, both from her early band (Ivy Echoes) and her solo years, and analyze the genres and roles of those collaborators.</p></li>
<li><p>Track Genre Evolution: Understand how Oceanus Folk evolved and interacted with genres like Indie Folk, Indie Pop, and Darkwave through stylized performances, lyrical themes, and musical structure.</p></li>
<li><p>Visualize Career Milestones: Highlight key turning points in Sailorâ€™s career, including viral hits, genre shifts, and breakout collaborations using timeline and network-based views.</p></li>
<li><p>Compare Artistsâ€™ Careers: Contrast the musical journeys of Sailorâ€™s former bandmates or contemporaries, and assess what defines a rising star in Oceanus Folk.</p></li>
<li><p>Predict Emerging Stars: Use influence and collaboration patterns to forecast the next potential breakout artists in the Oceanus Folk scene.</p></li>
</ul>
</section>
<section id="loading-data-and-packages" class="level1">
<h1>3. Loading Data and Packages</h1>
<section id="loading-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-r-packages">3.1 Loading R Packages</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Core packages</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  tidyverse,    <span class="co"># dplyr, ggplot2, tidyr, etc.</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  jsonlite,     <span class="co"># JSON file reading</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  SmartEDA,     <span class="co"># Automated EDA</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  tidygraph,    <span class="co"># Graph manipulation</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  ggraph,       <span class="co"># Network visualization</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  plotly,       <span class="co"># Interactive visualizations</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  treemapify,   <span class="co"># Treemap visualizations</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  visNetwork,   <span class="co"># Interactive network visualization</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  RColorBrewer, <span class="co"># Color palettes</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  DT,           <span class="co"># Interactive tables</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  ggthemes      <span class="co"># Additional ggplot themes</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="loading-preprocessed-data-from-rds-files" class="level2">
<h2 class="anchored" data-anchor-id="loading-preprocessed-data-from-rds-files">3.2 Loading Preprocessed Data from RDS Files</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load all preprocessed data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>full_graph <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/full_graph.rds"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>nodes_categorized <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/nodes_categorized.rds"</span>) </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>edges_categorized <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/edges_categorized.rds"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>artists_profile <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/artists_profile_complete.rds"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load special processing components individually</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>sailor_id <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/sailor_shift_id.rds"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>influence_types <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/influence_types.rds"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>of_songs <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/oceanus_folk_songs.rds"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>influence_edges <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/influence_edges.rds"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>sailor_edges <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/sailor_influence_edges.rds"</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>vis_nodes <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/network_vis_nodes.rds"</span>) </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>vis_edges <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/network_vis_edges.rds"</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Load additional supporting data if needed</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>people_tbl <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/people_table.rds"</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>works_tbl <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/works_table.rds"</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>artist_works <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/artist_works.rds"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>cluster_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">"data/processed/cluster_analysis_data.rds"</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify all loaded successfully</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>loaded_objects <span class="ot">&lt;-</span> <span class="fu">ls</span>()</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Successfully loaded:</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">paste</span>(loaded_objects, <span class="at">collapse=</span><span class="st">"</span><span class="sc">\n</span><span class="st"> "</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Successfully loaded:
 artist_works
 artists_profile
 cluster_data
 edges_categorized
 full_graph
 influence_edges
 influence_types
 nodes_categorized
 of_songs
 people_tbl
 sailor_edges
 sailor_id
 vis_edges
 vis_nodes
 works_tbl</code></pre>
</div>
</div>
</section>
</section>
<section id="exploratory-data-analysis" class="level1">
<h1>4. Exploratory Data Analysis</h1>
<section id="count-of-edge-types" class="level2">
<h2 class="anchored" data-anchor-id="count-of-edge-types">4.1 Count of Edge Types</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>edges_categorized <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(edge_type) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">reorder</span>(edge_type, n), <span class="at">x =</span> n)) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Edge Types"</span>, </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Count"</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Edge Type"</span>) <span class="sc">+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Sailor-Oceanus_influence_files/figure-html/unnamed-chunk-3-1.png" style="width:100.0%" height="600" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="count-of-node-types" class="level2">
<h2 class="anchored" data-anchor-id="count-of-node-types">4.2 Count of Node Types</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>nodes_categorized <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(node_type) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">reorder</span>(node_type, n), <span class="at">x =</span> n)) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Node Types"</span>, </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Count"</span>, </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Node Type"</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Sailor-Oceanus_influence_files/figure-html/unnamed-chunk-4-1.png" style="width:100.0%" height="600" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="genre-distribution-of-songs" class="level2">
<h2 class="anchored" data-anchor-id="genre-distribution-of-songs">4.3 Genre Distribution of Songs</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>nodes_categorized <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(node_type <span class="sc">==</span> <span class="st">"Song"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(genre, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(genre, n), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"tomato"</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Count of Songs in each Genre"</span>, </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Genre"</span>, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Sailor-Oceanus_influence_files/figure-html/unnamed-chunk-5-1.png" style="width:100.0%" height="600" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="temporal-distribution-of-oceanus-folk-songs" class="level2">
<h2 class="anchored" data-anchor-id="temporal-distribution-of-oceanus-folk-songs">4.4 Temporal Distribution of Oceanus Folk Songs</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>of_songs <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(release_date)) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(release_date) <span class="sc">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.integer</span>(release_date), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"purple"</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Release Trend of Oceanus Folk Songs"</span>, </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>, </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Songs"</span>) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Sailor-Oceanus_influence_files/figure-html/unnamed-chunk-6-1.png" style="width:100.0%" height="600" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="influence-analysis" class="level1">
<h1>5. Influence Analysis</h1>
<section id="temporal-spread-of-influence-from-oceanus-folk" class="level2">
<h2 class="anchored" data-anchor-id="temporal-spread-of-influence-from-oceanus-folk">5.1 Temporal Spread of Influence from Oceanus Folk</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get influenced songs from Oceanus Folk</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>influence_over_time <span class="ot">&lt;-</span> influence_edges <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> of_songs<span class="sc">$</span>id) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(nodes_categorized, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(node_type <span class="sc">==</span> <span class="st">"Song"</span>, <span class="sc">!</span><span class="fu">is.na</span>(release_date)) <span class="sc">%&gt;%</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">release_year =</span> <span class="fu">as.integer</span>(release_date)) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(release_year, <span class="at">name =</span> <span class="st">"influenced_count"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create interactive time series plot</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(influence_over_time,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="sc">~</span>release_year,</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="sc">~</span>influenced_count,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">'scatter'</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">mode =</span> <span class="st">'lines+markers'</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'steelblue'</span>),</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">6</span>, <span class="at">color =</span> <span class="st">'black'</span>),</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"Year:"</span>, release_year, <span class="st">"&lt;br&gt;Influenced Songs:"</span>, influenced_count),</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">hoverinfo =</span> <span class="st">'text'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Spread of Oceanus Folk Influence Over Time"</span>,</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Release Year of Influenced Songs"</span>),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Number of Influenced Songs"</span>),</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>         <span class="at">hoverlabel =</span> <span class="fu">list</span>(<span class="at">bgcolor =</span> <span class="st">"white"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-389cda848980463ae0ad" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-389cda848980463ae0ad">{"x":{"visdat":{"dc6b7bfc3915":["function () ","plotlyVisDat"]},"cur_data":"dc6b7bfc3915","attrs":{"dc6b7bfc3915":{"x":{},"y":{},"mode":"lines+markers","line":{"color":"steelblue"},"marker":{"size":6,"color":"black"},"text":{},"hoverinfo":"text","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Spread of Oceanus Folk Influence Over Time","xaxis":{"domain":[0,1],"automargin":true,"title":"Release Year of Influenced Songs"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Influenced Songs"},"hoverlabel":{"bgcolor":"white"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1981,1991,1994,1995,1997,2000,2003,2004,2005,2007,2009,2010,2012,2013,2014,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2028,2029,2031],"y":[1,1,1,1,1,1,1,18,1,19,4,76,1,25,6,1,44,1,1,7,6,5,18,7,3,9,3,3,1],"mode":"lines+markers","line":{"color":"steelblue"},"marker":{"color":"black","size":6,"line":{"color":"rgba(31,119,180,1)"}},"text":["Year: 1981 <br>Influenced Songs: 1","Year: 1991 <br>Influenced Songs: 1","Year: 1994 <br>Influenced Songs: 1","Year: 1995 <br>Influenced Songs: 1","Year: 1997 <br>Influenced Songs: 1","Year: 2000 <br>Influenced Songs: 1","Year: 2003 <br>Influenced Songs: 1","Year: 2004 <br>Influenced Songs: 18","Year: 2005 <br>Influenced Songs: 1","Year: 2007 <br>Influenced Songs: 19","Year: 2009 <br>Influenced Songs: 4","Year: 2010 <br>Influenced Songs: 76","Year: 2012 <br>Influenced Songs: 1","Year: 2013 <br>Influenced Songs: 25","Year: 2014 <br>Influenced Songs: 6","Year: 2016 <br>Influenced Songs: 1","Year: 2017 <br>Influenced Songs: 44","Year: 2018 <br>Influenced Songs: 1","Year: 2019 <br>Influenced Songs: 1","Year: 2020 <br>Influenced Songs: 7","Year: 2021 <br>Influenced Songs: 6","Year: 2022 <br>Influenced Songs: 5","Year: 2023 <br>Influenced Songs: 18","Year: 2024 <br>Influenced Songs: 7","Year: 2025 <br>Influenced Songs: 3","Year: 2026 <br>Influenced Songs: 9","Year: 2028 <br>Influenced Songs: 3","Year: 2029 <br>Influenced Songs: 3","Year: 2031 <br>Influenced Songs: 1"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"type":"scatter","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="heatmap-of-oceanus-folk-influence-by-genre-and-year" class="level2">
<h2 class="anchored" data-anchor-id="heatmap-of-oceanus-folk-influence-by-genre-and-year">5.2 Heatmap of Oceanus Folk Influence by Genre and Year</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare heatmap data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>influence_heatmap <span class="ot">&lt;-</span> influence_edges <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> of_songs<span class="sc">$</span>id) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(nodes_categorized, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(release_date), <span class="sc">!</span><span class="fu">is.na</span>(genre)) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(release_date, genre) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">release_year =</span> <span class="fu">as.character</span>(release_date),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">tooltip =</span> <span class="fu">paste</span>(<span class="st">"&lt;b&gt;"</span>, release_year, <span class="st">"&lt;/b&gt;"</span>, </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"</span><span class="sc">\n</span><span class="st">Genre : "</span>, genre,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"</span><span class="sc">\n</span><span class="st">Influenced Songs : "</span>, n))</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create heatmap</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>heat <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(influence_heatmap, <span class="fu">aes</span>(<span class="at">x =</span> release_year, <span class="at">y =</span> genre, <span class="at">fill =</span> n)) <span class="sc">+</span> </span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="fu">aes</span>(<span class="at">text =</span> tooltip)) <span class="sc">+</span> </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_tufte</span>(<span class="at">base_family =</span> <span class="st">"Helvetica"</span>) <span class="sc">+</span> </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">name =</span> <span class="st">"Influenced Songs"</span>, <span class="at">low =</span> <span class="st">"#fff2f4"</span>, <span class="at">high =</span> <span class="st">"coral"</span>) <span class="sc">+</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Release Year"</span>, </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Genre"</span>, </span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Oceanus Folk Influence by Genre and Year"</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Data Source: VAST Challenge 2025 MC1"</span>) <span class="sc">+</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>, <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">7</span>),</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to interactive plot</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(heat, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-f8b9d8e283c67cdebe88" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f8b9d8e283c67cdebe88">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"z":[[null,null,null,null,null,0,null,null,null,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,0,null,null,null,null,0],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null],[null,null,null,null,null,null,0.015625,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null],[0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,0,null,null,0.03125,null,null,null,0.015625,null,null,0,null,0,null],[null,null,null,null,null,0,null,null,null,0.015625,0,null,null,null,null,0,null,null,null,0,null,null,null,null,null,null,null,0,null,null,null,null],[null,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,null,0,0,null,null,0.015625,0,0,null,0,null,null,null],[null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,0,null,0,null,0.015625,null,1,null,0.03125,null,null,0.0625,null,null,0,0.015625,null,0.03125,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,0.015625,null,null,null,null,0,null,null,0,null,0,0,null,null,null,null,0,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,0.015625,null,null,null,null,null,null,0.171875,null,0.234375,0.015625,0.15625,null,0.25,0.0625,null,0.609375,null,0,0,0.03125,0.046875,0.09375,0.015625,null,0.046875,0,null,0,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,0,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,0.015625,null,null,null,0,null,null,null,null,null,null,0,0.015625,0,null,0.015625,null,null,null,null],[null,null,null,null,null,null,null,null,null,0.015625,null,null,null,null,0,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,0,0,null,null,0,null,null],[null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0,null,null,0.09375,null,null,0,null,null,null,null,null,null,null,null,null,null],[null,null,null,0,0,null,null,null,0,0,null,null,null,0.015625,null,0.0625,null,null,null,null,null,null,0,null,null,null,null,0,0,null,null,null]],"text":[[null,null,null,null,null,"<b> 1997 <\/b> <br />Genre :  Alternative Rock <br />Influenced Songs :  1",null,null,null,"<b> 2004 <\/b> <br />Genre :  Alternative Rock <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2023 <\/b> <br />Genre :  Alternative Rock <br />Influenced Songs :  1",null,"<b> 2025 <\/b> <br />Genre :  Alternative Rock <br />Influenced Songs :  1",null,null,null,null,"<b> 2031 <\/b> <br />Genre :  Alternative Rock <br />Influenced Songs :  1"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2013 <\/b> <br />Genre :  Americana <br />Influenced Songs :  1",null,null,null,null,null,null,null,"<b> 2022 <\/b> <br />Genre :  Americana <br />Influenced Songs :  1",null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2023 <\/b> <br />Genre :  Avant-Garde Folk <br />Influenced Songs :  1",null,null,null,null,null,null,null],[null,null,null,null,null,null,"<b> 1998 <\/b> <br />Genre :  Blues Rock <br />Influenced Songs :  2",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2026 <\/b> <br />Genre :  Blues Rock <br />Influenced Songs :  1",null,null,null,null],["<b> 1981 <\/b> <br />Genre :  Celtic Folk <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2013 <\/b> <br />Genre :  Desert Rock <br />Influenced Songs :  1",null,null,"<b> 2017 <\/b> <br />Genre :  Desert Rock <br />Influenced Songs :  1",null,null,"<b> 2020 <\/b> <br />Genre :  Desert Rock <br />Influenced Songs :  3",null,null,null,"<b> 2024 <\/b> <br />Genre :  Desert Rock <br />Influenced Songs :  2",null,null,"<b> 2028 <\/b> <br />Genre :  Desert Rock <br />Influenced Songs :  1",null,"<b> 2030 <\/b> <br />Genre :  Desert Rock <br />Influenced Songs :  1",null],[null,null,null,null,null,"<b> 1997 <\/b> <br />Genre :  Doom Metal <br />Influenced Songs :  1",null,null,null,"<b> 2004 <\/b> <br />Genre :  Doom Metal <br />Influenced Songs :  2","<b> 2005 <\/b> <br />Genre :  Doom Metal <br />Influenced Songs :  1",null,null,null,null,"<b> 2013 <\/b> <br />Genre :  Doom Metal <br />Influenced Songs :  1",null,null,null,"<b> 2018 <\/b> <br />Genre :  Doom Metal <br />Influenced Songs :  1",null,null,null,null,null,null,null,"<b> 2026 <\/b> <br />Genre :  Doom Metal <br />Influenced Songs :  1",null,null,null,null],[null,"<b> 1991 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2016 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1","<b> 2017 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1",null,"<b> 2019 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1","<b> 2020 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1",null,null,"<b> 2023 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  2","<b> 2024 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1","<b> 2025 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1",null,"<b> 2028 <\/b> <br />Genre :  Dream Pop <br />Influenced Songs :  1",null,null,null],[null,null,null,null,null,null,null,"<b> 2000 <\/b> <br />Genre :  Emo/Pop Punk <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,"<b> 2000 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  1",null,"<b> 2004 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  1",null,"<b> 2007 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  2",null,"<b> 2010 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  65",null,"<b> 2013 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  3",null,null,"<b> 2017 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  5",null,null,"<b> 2020 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  1","<b> 2021 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  2",null,"<b> 2023 <\/b> <br />Genre :  Indie Folk <br />Influenced Songs :  3",null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2010 <\/b> <br />Genre :  Indie Rock <br />Influenced Songs :  2",null,null,null,null,"<b> 2017 <\/b> <br />Genre :  Indie Rock <br />Influenced Songs :  1",null,null,"<b> 2020 <\/b> <br />Genre :  Indie Rock <br />Influenced Songs :  1",null,"<b> 2022 <\/b> <br />Genre :  Indie Rock <br />Influenced Songs :  1","<b> 2023 <\/b> <br />Genre :  Indie Rock <br />Influenced Songs :  1",null,null,null,null,"<b> 2029 <\/b> <br />Genre :  Indie Rock <br />Influenced Songs :  1",null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2018 <\/b> <br />Genre :  Jazz Surf Rock <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2014 <\/b> <br />Genre :  Lo-Fi Electronica <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,"<b> 1992 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  2",null,null,null,null,null,null,"<b> 2004 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  12",null,"<b> 2007 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  16","<b> 2009 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  2","<b> 2010 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  11",null,"<b> 2013 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  17","<b> 2014 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  5",null,"<b> 2017 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  40",null,"<b> 2019 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  1","<b> 2020 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  1","<b> 2021 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  3","<b> 2022 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  4","<b> 2023 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  7","<b> 2024 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  2",null,"<b> 2026 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  4","<b> 2028 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  1",null,"<b> 2030 <\/b> <br />Genre :  Oceanus Folk <br />Influenced Songs :  1",null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2020 <\/b> <br />Genre :  Post-Apocalyptic Folk <br />Influenced Songs :  1",null,null,null,null,null,null,null,"<b> 2029 <\/b> <br />Genre :  Post-Apocalyptic Folk <br />Influenced Songs :  1",null,null],[null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2009 <\/b> <br />Genre :  Psychedelic Rock <br />Influenced Songs :  2",null,null,null,"<b> 2014 <\/b> <br />Genre :  Psychedelic Rock <br />Influenced Songs :  1",null,null,null,null,null,null,"<b> 2022 <\/b> <br />Genre :  Psychedelic Rock <br />Influenced Songs :  1","<b> 2023 <\/b> <br />Genre :  Psychedelic Rock <br />Influenced Songs :  2","<b> 2024 <\/b> <br />Genre :  Psychedelic Rock <br />Influenced Songs :  1",null,"<b> 2026 <\/b> <br />Genre :  Psychedelic Rock <br />Influenced Songs :  2",null,null,null,null],[null,null,null,null,null,null,null,null,null,"<b> 2004 <\/b> <br />Genre :  Southern Gothic Rock <br />Influenced Songs :  2",null,null,null,null,"<b> 2012 <\/b> <br />Genre :  Southern Gothic Rock <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,"<b> 2024 <\/b> <br />Genre :  Southern Gothic Rock <br />Influenced Songs :  1",null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2023 <\/b> <br />Genre :  Space Rock <br />Influenced Songs :  1","<b> 2024 <\/b> <br />Genre :  Space Rock <br />Influenced Songs :  1","<b> 2025 <\/b> <br />Genre :  Space Rock <br />Influenced Songs :  1",null,null,"<b> 2029 <\/b> <br />Genre :  Space Rock <br />Influenced Songs :  1",null,null],[null,null,null,null,null,null,null,null,null,null,null,"<b> 2007 <\/b> <br />Genre :  Symphonic Metal <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2023 <\/b> <br />Genre :  Symphonic Metal <br />Influenced Songs :  1",null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"<b> 2013 <\/b> <br />Genre :  Synthpop <br />Influenced Songs :  1",null,null,"<b> 2017 <\/b> <br />Genre :  Synthpop <br />Influenced Songs :  7",null,null,"<b> 2020 <\/b> <br />Genre :  Synthpop <br />Influenced Songs :  1",null,null,null,null,null,null,null,null,null,null],[null,null,null,"<b> 1994 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1","<b> 1995 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1",null,null,null,"<b> 2003 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1","<b> 2004 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1",null,null,null,"<b> 2010 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  2",null,"<b> 2013 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  5",null,null,null,null,null,null,"<b> 2021 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1",null,null,null,null,"<b> 2026 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1","<b> 2028 <\/b> <br />Genre :  Synthwave <br />Influenced Songs :  1",null,null,null]],"colorscale":[[0,"#FFF2F4"],[0.015625,"#FFF0F1"],[0.03125,"#FFEEEF"],[0.046875,"#FFEDEC"],[0.0625,"#FFEBE9"],[0.09375,"#FFE7E4"],[0.15625,"#FFE0D9"],[0.171875,"#FFDFD7"],[0.234375,"#FFD7CC"],[0.25,"#FFD6C9"],[0.609375,"#FFAD8E"],[1,"#FF7F50"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[1],"name":"ad2e9b3e6410cdead712b2095027f36b","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#FFF2F4"],[0.0033444816053511718,"#FFF2F3"],[0.0066889632107023402,"#FFF1F3"],[0.010033444816053512,"#FFF1F2"],[0.01337792642140468,"#FFF0F2"],[0.016722408026755856,"#FFF0F1"],[0.020066889632107024,"#FFF0F1"],[0.023411371237458192,"#FFEFF0"],[0.026755852842809361,"#FFEFEF"],[0.030100334448160536,"#FFEFEF"],[0.033444816053511704,"#FFEEEE"],[0.036789297658862873,"#FFEEEE"],[0.040133779264214048,"#FFEDED"],[0.043478260869565216,"#FFEDED"],[0.046822742474916385,"#FFEDEC"],[0.050167224080267553,"#FFECEB"],[0.053511705685618721,"#FFECEB"],[0.05685618729096989,"#FFECEA"],[0.060200668896321072,"#FFEBEA"],[0.06354515050167224,"#FFEBE9"],[0.066889632107023408,"#FFEAE8"],[0.070234113712374577,"#FFEAE8"],[0.073578595317725745,"#FFEAE7"],[0.076923076923076927,"#FFE9E7"],[0.080267558528428096,"#FFE9E6"],[0.083612040133779264,"#FFE9E6"],[0.086956521739130432,"#FFE8E5"],[0.090301003344481601,"#FFE8E4"],[0.093645484949832769,"#FFE7E4"],[0.096989966555183951,"#FFE7E3"],[0.10033444816053512,"#FFE7E3"],[0.10367892976588629,"#FFE6E2"],[0.10702341137123746,"#FFE6E2"],[0.11036789297658861,"#FFE5E1"],[0.11371237458193978,"#FFE5E0"],[0.11705685618729095,"#FFE5E0"],[0.12040133779264214,"#FFE4DF"],[0.12374581939799331,"#FFE4DF"],[0.12709030100334448,"#FFE4DE"],[0.13043478260869565,"#FFE3DE"],[0.13377926421404682,"#FFE3DD"],[0.13712374581939799,"#FFE2DD"],[0.14046822742474915,"#FFE2DC"],[0.14381270903010032,"#FFE2DB"],[0.14715719063545149,"#FFE1DB"],[0.15050167224080269,"#FFE1DA"],[0.15384615384615385,"#FFE1DA"],[0.15719063545150502,"#FFE0D9"],[0.16053511705685619,"#FFE0D9"],[0.16387959866220736,"#FFDFD8"],[0.16722408026755853,"#FFDFD7"],[0.1705685618729097,"#FFDFD7"],[0.17391304347826086,"#FFDED6"],[0.17725752508361203,"#FFDED6"],[0.1806020066889632,"#FFDED5"],[0.18394648829431437,"#FFDDD5"],[0.18729096989966554,"#FFDDD4"],[0.19063545150501671,"#FFDCD3"],[0.1939799331103679,"#FFDCD3"],[0.19732441471571907,"#FFDCD2"],[0.20066889632107024,"#FFDBD2"],[0.20401337792642141,"#FFDBD1"],[0.20735785953177258,"#FFDBD1"],[0.21070234113712374,"#FFDAD0"],[0.21404682274247491,"#FFDACF"],[0.21739130434782608,"#FFD9CF"],[0.22073578595317725,"#FFD9CE"],[0.22408026755852842,"#FFD9CE"],[0.22742474916387959,"#FFD8CD"],[0.23076923076923075,"#FFD8CD"],[0.23411371237458192,"#FFD7CC"],[0.23745819397993312,"#FFD7CC"],[0.24080267558528429,"#FFD7CB"],[0.24414715719063546,"#FFD6CA"],[0.24749163879598662,"#FFD6CA"],[0.25083612040133779,"#FFD6C9"],[0.25418060200668896,"#FFD5C9"],[0.25752508361204013,"#FFD5C8"],[0.2608695652173913,"#FFD4C8"],[0.26421404682274247,"#FFD4C7"],[0.26755852842809363,"#FFD4C6"],[0.2709030100334448,"#FFD3C6"],[0.27424749163879597,"#FFD3C5"],[0.27759197324414714,"#FFD3C5"],[0.28093645484949831,"#FFD2C4"],[0.28428093645484948,"#FFD2C4"],[0.28762541806020064,"#FFD1C3"],[0.29096989966555181,"#FFD1C3"],[0.29431438127090298,"#FFD1C2"],[0.29765886287625415,"#FFD0C1"],[0.30100334448160537,"#FFD0C1"],[0.30434782608695654,"#FFD0C0"],[0.30769230769230771,"#FFCFC0"],[0.31103678929765888,"#FFCFBF"],[0.31438127090301005,"#FFCEBF"],[0.31772575250836121,"#FFCEBE"],[0.32107023411371238,"#FFCEBE"],[0.32441471571906355,"#FFCDBD"],[0.32775919732441472,"#FFCDBC"],[0.33110367892976589,"#FFCCBC"],[0.33444816053511706,"#FFCCBB"],[0.33779264214046822,"#FFCCBB"],[0.34113712374581939,"#FFCBBA"],[0.34448160535117056,"#FFCBBA"],[0.34782608695652173,"#FFCBB9"],[0.3511705685618729,"#FFCAB9"],[0.35451505016722407,"#FFCAB8"],[0.35785953177257523,"#FFC9B7"],[0.3612040133779264,"#FFC9B7"],[0.36454849498327757,"#FFC9B6"],[0.36789297658862874,"#FFC8B6"],[0.37123745819397991,"#FFC8B5"],[0.37458193979933108,"#FFC8B5"],[0.37792642140468224,"#FFC7B4"],[0.38127090301003341,"#FFC7B4"],[0.38461538461538458,"#FFC6B3"],[0.38795986622073581,"#FFC6B2"],[0.39130434782608697,"#FFC6B2"],[0.39464882943143814,"#FFC5B1"],[0.39799331103678931,"#FFC5B1"],[0.40133779264214048,"#FFC5B0"],[0.40468227424749165,"#FFC4B0"],[0.40802675585284282,"#FFC4AF"],[0.41137123745819398,"#FFC3AF"],[0.41471571906354515,"#FFC3AE"],[0.41806020066889632,"#FFC3AD"],[0.42140468227424749,"#FFC2AD"],[0.42474916387959866,"#FFC2AC"],[0.42809364548494983,"#FFC1AC"],[0.43143812709030099,"#FFC1AB"],[0.43478260869565216,"#FFC1AB"],[0.43812709030100333,"#FFC0AA"],[0.4414715719063545,"#FFC0AA"],[0.44481605351170567,"#FFC0A9"],[0.44816053511705684,"#FFBFA9"],[0.451505016722408,"#FFBFA8"],[0.45484949832775917,"#FFBEA7"],[0.45819397993311034,"#FFBEA7"],[0.46153846153846151,"#FFBEA6"],[0.46488294314381268,"#FFBDA6"],[0.46822742474916385,"#FFBDA5"],[0.47157190635451507,"#FFBDA5"],[0.47491638795986624,"#FFBCA4"],[0.47826086956521741,"#FFBCA4"],[0.48160535117056857,"#FFBBA3"],[0.48494983277591974,"#FFBBA2"],[0.48829431438127091,"#FFBBA2"],[0.49163879598662208,"#FFBAA1"],[0.49498327759197325,"#FFBAA1"],[0.49832775919732442,"#FFB9A0"],[0.50167224080267558,"#FFB9A0"],[0.50501672240802675,"#FFB99F"],[0.50836120401337792,"#FFB89F"],[0.51170568561872909,"#FFB89E"],[0.51505016722408026,"#FFB89E"],[0.51839464882943143,"#FFB79D"],[0.52173913043478259,"#FFB79C"],[0.52508361204013376,"#FFB69C"],[0.52842809364548493,"#FFB69B"],[0.5317725752508361,"#FFB69B"],[0.53511705685618727,"#FFB59A"],[0.53846153846153844,"#FFB59A"],[0.5418060200668896,"#FFB599"],[0.54515050167224077,"#FFB499"],[0.54849498327759194,"#FFB498"],[0.55183946488294311,"#FFB398"],[0.55518394648829428,"#FFB397"],[0.55852842809364545,"#FFB397"],[0.56187290969899661,"#FFB296"],[0.56521739130434778,"#FFB295"],[0.56856187290969895,"#FFB195"],[0.57190635451505012,"#FFB194"],[0.57525083612040129,"#FFB194"],[0.57859531772575246,"#FFB093"],[0.58193979933110362,"#FFB093"],[0.58528428093645479,"#FFB092"],[0.58862876254180596,"#FFAF92"],[0.59197324414715713,"#FFAF91"],[0.5953177257525083,"#FFAE91"],[0.59866220735785947,"#FFAE90"],[0.60200668896321075,"#FFAE8F"],[0.60535117056856191,"#FFAD8F"],[0.60869565217391308,"#FFAD8E"],[0.61204013377926425,"#FFAC8E"],[0.61538461538461542,"#FFAC8D"],[0.61872909698996659,"#FFAC8D"],[0.62207357859531776,"#FFAB8C"],[0.62541806020066892,"#FFAB8C"],[0.62876254180602009,"#FFAB8B"],[0.63210702341137126,"#FFAA8B"],[0.63545150501672243,"#FFAA8A"],[0.6387959866220736,"#FFA98A"],[0.64214046822742477,"#FFA989"],[0.64548494983277593,"#FFA988"],[0.6488294314381271,"#FFA888"],[0.65217391304347827,"#FFA887"],[0.65551839464882944,"#FFA787"],[0.65886287625418061,"#FFA786"],[0.66220735785953178,"#FFA786"],[0.66555183946488294,"#FFA685"],[0.66889632107023411,"#FFA685"],[0.67224080267558528,"#FFA684"],[0.67558528428093645,"#FFA584"],[0.67892976588628762,"#FFA583"],[0.68227424749163879,"#FFA483"],[0.68561872909698995,"#FFA482"],[0.68896321070234112,"#FFA481"],[0.69230769230769229,"#FFA381"],[0.69565217391304346,"#FFA380"],[0.69899665551839463,"#FFA280"],[0.7023411371237458,"#FFA27F"],[0.70568561872909696,"#FFA27F"],[0.70903010033444813,"#FFA17E"],[0.7123745819397993,"#FFA17E"],[0.71571906354515047,"#FFA17D"],[0.71906354515050164,"#FFA07D"],[0.72240802675585281,"#FFA07C"],[0.72575250836120397,"#FF9F7C"],[0.72909698996655514,"#FF9F7B"],[0.73244147157190631,"#FF9F7B"],[0.73578595317725748,"#FF9E7A"],[0.73913043478260865,"#FF9E79"],[0.74247491638795982,"#FF9D79"],[0.74581939799331098,"#FF9D78"],[0.74916387959866215,"#FF9D78"],[0.75250836120401332,"#FF9C77"],[0.75585284280936449,"#FF9C77"],[0.75919732441471566,"#FF9C76"],[0.76254180602006683,"#FF9B76"],[0.76588628762541799,"#FF9B75"],[0.76923076923076916,"#FF9A75"],[0.77257525083612044,"#FF9A74"],[0.77591973244147161,"#FF9A74"],[0.77926421404682278,"#FF9973"],[0.78260869565217395,"#FF9973"],[0.78595317725752512,"#FF9872"],[0.78929765886287628,"#FF9871"],[0.79264214046822745,"#FF9871"],[0.79598662207357862,"#FF9770"],[0.79933110367892979,"#FF9770"],[0.80267558528428096,"#FF966F"],[0.80602006688963213,"#FF966F"],[0.80936454849498329,"#FF966E"],[0.81270903010033446,"#FF956E"],[0.81605351170568563,"#FF956D"],[0.8193979933110368,"#FF946D"],[0.82274247491638797,"#FF946C"],[0.82608695652173914,"#FF946C"],[0.8294314381270903,"#FF936B"],[0.83277591973244147,"#FF936B"],[0.83612040133779264,"#FF936A"],[0.83946488294314381,"#FF9269"],[0.84280936454849498,"#FF9269"],[0.84615384615384615,"#FF9168"],[0.84949832775919731,"#FF9168"],[0.85284280936454848,"#FF9167"],[0.85618729096989965,"#FF9067"],[0.85953177257525082,"#FF9066"],[0.86287625418060199,"#FF8F66"],[0.86622073578595316,"#FF8F65"],[0.86956521739130432,"#FF8F65"],[0.87290969899665549,"#FF8E64"],[0.87625418060200666,"#FF8E64"],[0.87959866220735783,"#FF8D63"],[0.882943143812709,"#FF8D63"],[0.88628762541806017,"#FF8D62"],[0.88963210702341133,"#FF8C62"],[0.8929765886287625,"#FF8C61"],[0.89632107023411367,"#FF8B60"],[0.89966555183946484,"#FF8B60"],[0.90301003344481601,"#FF8B5F"],[0.90635451505016718,"#FF8A5F"],[0.90969899665551834,"#FF8A5E"],[0.91304347826086951,"#FF895E"],[0.91638795986622068,"#FF895D"],[0.91973244147157185,"#FF895D"],[0.92307692307692302,"#FF885C"],[0.92642140468227419,"#FF885C"],[0.92976588628762535,"#FF875B"],[0.93311036789297652,"#FF875B"],[0.93645484949832769,"#FF875A"],[0.93979933110367886,"#FF865A"],[0.94314381270903014,"#FF8659"],[0.94648829431438131,"#FF8559"],[0.94983277591973247,"#FF8558"],[0.95317725752508364,"#FF8557"],[0.95652173913043481,"#FF8457"],[0.95986622073578598,"#FF8456"],[0.96321070234113715,"#FF8356"],[0.96655518394648832,"#FF8355"],[0.96989966555183948,"#FF8355"],[0.97324414715719065,"#FF8254"],[0.97658862876254182,"#FF8254"],[0.97993311036789299,"#FF8153"],[0.98327759197324416,"#FF8153"],[0.98662207357859533,"#FF8152"],[0.98996655518394649,"#FF8052"],[0.99331103678929766,"#FF8051"],[0.99665551839464883,"#FF7F51"],[1,"#FF7F50"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"Influenced Songs","titlefont":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":11.955168119551681},"tickmode":"array","ticktext":["20","40","60"],"tickvals":[0.29755208333333327,0.60901041666666667,0.92046874999999995],"tickfont":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":9.2984640929846396},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":49.746782897467838,"l":137.15234537152344},"font":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":14.611872146118724},"title":{"text":"<b> Oceanus Folk Influence by Genre and Year <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":17.534246575342465},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,32.600000000000001],"tickmode":"array","ticktext":["1981","1991","1992","1994","1995","1997","1998","2000","2003","2004","2005","2007","2009","2010","2012","2013","2014","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2028","2029","2030","2031"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],"categoryorder":"array","categoryarray":["1981","1991","1992","1994","1995","1997","1998","2000","2003","2004","2005","2007","2009","2010","2012","2013","2014","2016","2017","2018","2019","2020","2021","2022","2023","2024","2025","2026","2028","2029","2030","2031"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Helvetica","size":10.62681610626816},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Release Year","font":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":14.611872146118724}},"scaleanchor":"y","scaleratio":1,"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,21.600000000000001],"tickmode":"array","ticktext":["Alternative Rock","Americana","Avant-Garde Folk","Blues Rock","Celtic Folk","Desert Rock","Doom Metal","Dream Pop","Emo/Pop Punk","Indie Folk","Indie Rock","Jazz Surf Rock","Lo-Fi Electronica","Oceanus Folk","Post-Apocalyptic Folk","Psychedelic Rock","Southern Gothic Rock","Space Rock","Symphonic Metal","Synthpop","Synthwave"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,14.999999999999998,15.999999999999998,17,18,19,20,21],"categoryorder":"array","categoryarray":["Alternative Rock","Americana","Avant-Garde Folk","Blues Rock","Celtic Folk","Desert Rock","Doom Metal","Dream Pop","Emo/Pop Punk","Indie Folk","Indie Rock","Jazz Surf Rock","Lo-Fi Electronica","Oceanus Folk","Post-Apocalyptic Folk","Psychedelic Rock","Southern Gothic Rock","Space Rock","Symphonic Metal","Synthpop","Synthwave"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Helvetica","size":10.62681610626816},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"Genre","font":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":14.611872146118724}},"scaleanchor":"x","scaleratio":1,"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":9.2984640929846396},"title":{"text":"Influenced Songs","font":{"color":"rgba(0,0,0,1)","family":"Helvetica","size":11.955168119551681}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"dc6b5f6264c":{"x":{},"y":{},"fill":{},"text":{},"type":"heatmap"}},"cur_data":"dc6b5f6264c","visdat":{"dc6b5f6264c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="network-visualizations" class="level1">
<h1>6. Network Visualizations</h1>
<section id="network-analysis-for-genres-influenced-by-oceanus-folk" class="level2">
<h2 class="anchored" data-anchor-id="network-analysis-for-genres-influenced-by-oceanus-folk">6.1 Network Analysis for Genres Influenced by Oceanus Folk</h2>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 6.1 Network Analysis for Genres Influenced by Oceanus Folk</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Filter outward-influenced nodes to songs with known genre</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>outward_genre_edges <span class="ot">&lt;-</span> influence_edges <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> of_songs<span class="sc">$</span>id) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(nodes_categorized, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"target"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(node_type <span class="sc">==</span> <span class="st">"Song"</span>, <span class="sc">!</span><span class="fu">is.na</span>(genre)) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(<span class="at">from =</span> <span class="st">"Oceanus Folk"</span>, <span class="at">to =</span> genre)  <span class="co"># Oceanus Folk â†’ genre</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Count influence strength by genre</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>outward_genre_strength <span class="ot">&lt;-</span> outward_genre_edges <span class="sc">%&gt;%</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(to, <span class="at">name =</span> <span class="st">"influence_count"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Identify top 5 influenced genres and assign colors</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>top5_out_genres <span class="ot">&lt;-</span> outward_genre_strength <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(influence_count)) <span class="sc">%&gt;%</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">color =</span> <span class="fu">rev</span>(RColorBrewer<span class="sc">::</span><span class="fu">brewer.pal</span>(<span class="dv">5</span>, <span class="st">"Oranges"</span>)))</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Build nodes for visNetwork</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>outward_genre_nodes <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(outward_genre_edges<span class="sc">$</span>from, outward_genre_edges<span class="sc">$</span>to)) <span class="sc">%&gt;%</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">id =</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(outward_genre_strength, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id"</span> <span class="ot">=</span> <span class="st">"to"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(top5_out_genres <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">id =</span> to, <span class="at">top5_color =</span> color), <span class="at">by =</span> <span class="st">"id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">influence_count =</span> <span class="fu">replace_na</span>(influence_count, <span class="dv">1</span>),</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> id,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> influence_count <span class="sc">*</span> <span class="dv">2</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">case_when</span>(</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>      id <span class="sc">==</span> <span class="st">"Oceanus Folk"</span> <span class="sc">~</span> <span class="st">"#4682B4"</span>,            <span class="co"># Blue for Oceanus Folk</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(top5_color) <span class="sc">~</span> top5_color,             <span class="co"># Top 5 in Oranges palette</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"#FDD0A2"</span>                              <span class="co"># Others in light orange</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">"Genre: "</span>, id, <span class="st">"&lt;br&gt;Influence Count: "</span>, influence_count)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Save these for future use</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(outward_genre_nodes, <span class="st">"data/processed/outward_genre_nodes.rds"</span>)</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(outward_genre_edges, <span class="st">"data/processed/outward_genre_edges.rds"</span>)</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Render network</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(outward_genre_nodes, outward_genre_edges, <span class="at">height =</span> <span class="st">"600px"</span>, <span class="at">width =</span> <span class="st">"100%"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">456</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visPhysics</span>(<span class="at">enabled =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-6ed43d164067d08e3c82" style="width:100%;height:600px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-6ed43d164067d08e3c82">{"x":{"nodes":{"id":["Oceanus Folk","Indie Folk","Synthwave","Indie Rock","Synthpop","Doom Metal","Dream Pop","Desert Rock","Psychedelic Rock","Space Rock","Symphonic Metal","Americana","Alternative Rock","Blues Rock","Avant-Garde Folk","Emo/Pop Punk","Celtic Folk","Southern Gothic Rock","Post-Apocalyptic Folk"],"influence_count":[117,79,10,7,2,7,9,8,9,3,2,1,4,1,1,1,1,3,1],"top5_color":["#A63603","#E6550D","#FD8D3C",null,null,null,"#FDBE85",null,"#FEEDDE",null,null,null,null,null,null,null,null,null,null],"label":["Oceanus Folk","Indie Folk","Synthwave","Indie Rock","Synthpop","Doom Metal","Dream Pop","Desert Rock","Psychedelic Rock","Space Rock","Symphonic Metal","Americana","Alternative Rock","Blues Rock","Avant-Garde Folk","Emo/Pop Punk","Celtic Folk","Southern Gothic Rock","Post-Apocalyptic Folk"],"value":[234,158,20,14,4,14,18,16,18,6,4,2,8,2,2,2,2,6,2],"color":["#4682B4","#E6550D","#FD8D3C","#FDD0A2","#FDD0A2","#FDD0A2","#FDBE85","#FDD0A2","#FEEDDE","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2","#FDD0A2"],"title":["Genre: Oceanus Folk<br>Influence Count: 117","Genre: Indie Folk<br>Influence Count: 79","Genre: Synthwave<br>Influence Count: 10","Genre: Indie Rock<br>Influence Count: 7","Genre: Synthpop<br>Influence Count: 2","Genre: Doom Metal<br>Influence Count: 7","Genre: Dream Pop<br>Influence Count: 9","Genre: Desert Rock<br>Influence Count: 8","Genre: Psychedelic Rock<br>Influence Count: 9","Genre: Space Rock<br>Influence Count: 3","Genre: Symphonic Metal<br>Influence Count: 2","Genre: Americana<br>Influence Count: 1","Genre: Alternative Rock<br>Influence Count: 4","Genre: Blues Rock<br>Influence Count: 1","Genre: Avant-Garde Folk<br>Influence Count: 1","Genre: Emo/Pop Punk<br>Influence Count: 1","Genre: Celtic Folk<br>Influence Count: 1","Genre: Southern Gothic Rock<br>Influence Count: 3","Genre: Post-Apocalyptic Folk<br>Influence Count: 1"]},"edges":{"from":["Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk"],"to":["Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Synthwave","Synthwave","Indie Folk","Indie Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Indie Folk","Indie Folk","Indie Rock","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Synthpop","Indie Folk","Oceanus Folk","Oceanus Folk","Doom Metal","Indie Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Doom Metal","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Indie Folk","Doom Metal","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Doom Metal","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Dream Pop","Dream Pop","Oceanus Folk","Indie Folk","Synthwave","Synthwave","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Desert Rock","Indie Folk","Oceanus Folk","Desert Rock","Psychedelic Rock","Indie Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Synthpop","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Synthwave","Desert Rock","Oceanus Folk","Indie Folk","Desert Rock","Indie Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Dream Pop","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Synthwave","Synthwave","Oceanus Folk","Doom Metal","Oceanus Folk","Synthwave","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Space Rock","Oceanus Folk","Space Rock","Indie Folk","Indie Folk","Indie Folk","Oceanus Folk","Desert Rock","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Psychedelic Rock","Oceanus Folk","Psychedelic Rock","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Desert Rock","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Doom Metal","Indie Folk","Symphonic Metal","Psychedelic Rock","Oceanus Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Doom Metal","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Indie Rock","Oceanus Folk","Oceanus Folk","Indie Folk","Indie Folk","Oceanus Folk","Synthwave","Desert Rock","Dream Pop","Psychedelic Rock","Psychedelic Rock","Indie Folk","Oceanus Folk","Indie Folk","Indie Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Oceanus Folk","Indie Folk","Americana","Oceanus Folk","Indie Folk","Indie Folk","Oceanus Folk","Indie Folk","Oceanus Folk","Indie Folk","Indie Rock","Alternative Rock","Blues Rock","Psychedelic Rock","Indie Folk","Dream Pop","Dream Pop","Indie Folk","Psychedelic Rock","Dream Pop","Indie Rock","Psychedelic Rock","Alternative Rock","Dream Pop","Avant-Garde Folk","Indie Folk","Indie Folk","Alternative Rock","Indie Rock","Indie Rock","Emo/Pop Punk","Celtic Folk","Synthwave","Dream Pop","Southern Gothic Rock","Indie Rock","Symphonic Metal","Alternative Rock","Indie Folk","Space Rock","Southern Gothic Rock","Desert Rock","Post-Apocalyptic Folk","Oceanus Folk","Oceanus Folk","Southern Gothic Rock"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"to"},"layout":{"randomSeed":456},"physics":{"enabled":false}},"groups":null,"width":"100%","height":"600px","idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>